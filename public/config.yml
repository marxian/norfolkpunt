cms_manual_init: false
load_config_file: false
backend:
  name: github
  repo: marxian/norfolkpunt
  branch: main
  base_url: 'https://www.norfolkpunt.org'
  auth_endpoint: api/auth
  commit_messages:
    create: 'feat: add {{collection}} {{slug}}'
    update: 'fix: update {{collection}} {{slug}}'
    delete: 'fix: remove {{collection}} {{slug}}'
    uploadMedia: 'feat: add media {{path}}'
    deleteMedia: 'fix: remove media {{path}}'
local_backend: true
site_url: 'https://www.norfolkpunt.org'
logo_url: 'https://www.norfolkpunt.org/logo.png'
media_folder: /public/images
public_folder: /images
collections:
  - name: pages
    label: Pages
    files:
      - label: Gallery
        name: gallery
        file: content/pages/gallery.md
        editor:
          preview: false
        fields:
        - label: Images
          name: images
          widget: list
          summary: '{{fields.image}}'
          collapsed: false
          add_to_top: true
          fields:
            - label: Image
              name: src
              widget: image
              media_folder: '/public/images/gallery'
              public_folder: '/images/gallery'
              required: true
            - label: Caption
              widget: string
              name: caption
              required: true
            - label: Attribution
              name: attribution
              widget: string
  - name: boats
    label: Boats
    label_singular: Boat
    folder: content/boats
    editor:
      preview: false
    preview_path: 'boats/{{slug}}'
    create: true
    slug: '{{name}}-{{fields.sailNumber}'
    summary: '{{name}} {{sailNumber}} - {{design}}'
    sortable_fields:
      - name
      - sailNumber
      - yearBuilt
      - design
    extension: md
    identifier_field: name
    fields:
      - label: Name
        name: name
        widget: string
      - label: Sail Number
        name: sailNumber
        widget: number
      - label: Cover Image
        name: coverImage
        widget: image
        required: false
        media_folder: '/public/images/boats'
        public_folder: '/images/boats'
        tagname: ''
      - label: Year Built
        name: yearBuilt
        widget: number
      - label: Length
        name: loa
        widget: number
        hint: in feet
      - label: Handicap
        name: handicap
        widget: number
        hint: Portsmouth Yardstick
      - label: Provisional Handicap
        name: provisionalHandicap
        widget: boolean
      - label: Builder
        name: builder
        widget: string
      - label: Construction
        name: construction
        widget: string
      - label: Design
        name: design
        widget: string
      - label: Designer
        name: designer
        widget: string
      - label: Owners
        name: owners
        widget: list
        fields:
          - label: From
            name: from
            widget: number
          - label: To
            name: to
            widget: number
            required: false
          - label: Owner
            name: owner
            widget: string
      - label: Hull Measurements
        name: hullMeasurements
        widget: list
        fields:
          - label: Date
            name: date
            widget: string
            hint: dd/mm/yyyy
          - label: Weight
            name: weight
            widget: number
            required: false
            value_type: float
            hint: lbs
          - label: Forms
            name: forms
            widget: file
            required: false
            media_folder: '/public/files/measurements/hull'
            public_folder: '/files/measurements/hull'
      - label: Sail Measurements
        name: sailMeasurements
        widget: list
        fields:
          - label: Date
            name: date
            widget: string
            hint: dd/mm/yyyy
          - label: Area
            name: area
            widget: number
            required: false
            value_type: float
            hint: sqm
          - label: Forms
            name: forms
            widget: file
            required: false
            media_folder: '/public/files/measurements/sail'
            public_folder: '/files/measurements/sail'
      - label: Stories
        name: stories
        widget: list
        fields:
          - label: Story
            name: story
            widget: text
          - label: Author
            name: author
            widget: string
